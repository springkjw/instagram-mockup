/* ==============================================
   공통 스타일 - 모든 페이지에서 사용하는 컴포넌트
   ============================================== */

/* 기본 body 스타일 */
body {
  /* var()는 variables.css에서 선언한 CSS 변수를 가져오는 함수.
     예: --font-family: 'Apple SD Gothic Neo', sans-serif; 로 선언해두면
     여기서 var(--font-family)로 재사용. 값을 한 곳에서 관리하므로
     폰트를 바꿀 때 variables.css만 수정하면 전체 페이지에 반영됨. */
  font-family: var(--font-family);
  font-size: var(--font-size-md);
  color: var(--color-black);
  background-color: var(--color-bg);
}

/* 모바일 컨테이너 */
.container {
  max-width: var(--max-width);
  margin: 0 auto;
  background-color: var(--color-white);
  min-height: 100vh;
  position: relative;
}

@media (min-width: 481px) {
  .container {
    border-left: var(--border);
    border-right: var(--border);
  }
}

/* ---- 상단 헤더 (피드 페이지) ---- */
.header {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: var(--max-width);
  height: var(--header-height);
  background-color: var(--color-white);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--spacing-lg);
  border-bottom: var(--border);
  z-index: 100;
}

.header__logo {
  font-family: 'Pacifico', cursive;
  font-size: var(--font-size-xl);
}

.header__icons {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
}

.header__icon {
  width: 24px;
  height: 24px;
}

/* ---- 페이지 헤더 (프로필, 탐색 등) ---- */
.page-header {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: var(--max-width);
  height: var(--header-height);
  background-color: var(--color-white);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 var(--spacing-lg);
  border-bottom: var(--border);
  z-index: 100;
}

.page-header__title {
  font-size: var(--font-size-lg);
  font-weight: 600;
}

.page-header__icon {
  width: 24px;
  height: 24px;
}

/* ---- 메인 콘텐츠 영역 ---- */
.main {
  padding-top: var(--header-height);
  padding-bottom: var(--nav-height);
}

/* ---- 하단 네비게이션 ---- */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: var(--max-width);
  height: var(--nav-height);
  background-color: var(--color-white);
  display: flex;
  align-items: center;
  justify-content: space-around;
  border-top: var(--border);
  z-index: 100;
}

.bottom-nav__item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
}

.bottom-nav__item svg {
  width: 24px;
  height: 24px;
}

.bottom-nav__item--active svg {
  stroke-width: 2.5;
}

.bottom-nav__avatar {
  width: 24px;
  height: 24px;
  border-radius: var(--border-radius-full);
  object-fit: cover;
}

.bottom-nav__item--active .bottom-nav__avatar {
  border: 2px solid var(--color-black);
}

/* ---- 아바타 ---- */
.avatar {
  border-radius: var(--border-radius-full);
  object-fit: cover;
}

.avatar--sm {
  width: var(--avatar-sm);
  height: var(--avatar-sm);
}

.avatar--md {
  width: var(--avatar-md);
  height: var(--avatar-md);
}

.avatar--lg {
  width: var(--avatar-lg);
  height: var(--avatar-lg);
}

/* ---- 스토리 링 (그라디언트 테두리) ---- */
.story-ring {
  background: var(--story-gradient);
  border-radius: var(--border-radius-full);
  padding: 2px;
}

.story-ring__inner {
  background: var(--color-white);
  border-radius: var(--border-radius-full);
  padding: 2px;
}

/* ---- 좋아요 바운스 애니메이션 ---- */
/* @keyframes는 애니메이션의 각 시점(%)별 상태를 정의하는 문법.
   아래는 좋아요 버튼 클릭 시 "커졌다 → 살짝 줄었다 → 원래 크기" 흐름을 만들어
   통통 튀는 느낌(바운스)을 구현함.
   정의만으로는 동작하지 않고, animation 속성으로 연결해야 실행됨. */
@keyframes likeScale {
  0% { transform: scale(1); }
  25% { transform: scale(1.3); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.like-animation {
  animation: likeScale 0.4s ease;
}

/* ---- 더블탭 하트 오버레이 애니메이션 ---- */
@keyframes heartFade {
  0% { opacity: 0; transform: translate(-50%, -50%) scale(0); }
  15% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
  30% { transform: translate(-50%, -50%) scale(1); }
  75% { opacity: 1; }
  100% { opacity: 0; transform: translate(-50%, -50%) scale(0); }
}

/* ---- 유틸리티 ---- */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.hide-scrollbar {
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}
